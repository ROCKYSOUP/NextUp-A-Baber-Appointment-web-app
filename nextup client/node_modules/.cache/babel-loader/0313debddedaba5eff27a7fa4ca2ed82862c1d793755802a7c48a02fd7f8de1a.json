{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\agarw\\\\OneDrive\\\\Desktop\\\\NEXTUP PROJECT\\\\nextup client\\\\src\\\\pages\\\\Barber.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction BarberPage() {\n  _s();\n  const [barber, setBarber] = useState('');\n  const [customers, setCustomers] = useState([]);\n  const [calledCustomerId, setCalledCustomerId] = useState(null);\n  useEffect(() => {\n    if (barber) {\n      fetchCustomers();\n    }\n  }, [barber]);\n  const fetchCustomers = () => {\n    fetch('http://localhost:5000/api/customers').then(res => res.json()).then(data => {\n      const filtered = data.filter(c => c.barber === barber);\n      setCustomers(filtered);\n    }).catch(err => console.error('Error fetching customers:', err));\n  };\n  const handleDone = id => {\n    fetch(`http://localhost:5000/api/customers/${id}`, {\n      method: 'DELETE'\n    }).then(() => fetchCustomers()).catch(err => console.error('Error deleting:', err));\n  };\n  const handleCallNext = () => {\n    if (customers.length > 0) {\n      setCalledCustomerId(customers[0].id);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: '20px'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      style: {\n        marginBottom: '20px'\n      },\n      children: \"Barber Queue Management\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this), !barber ? /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        gap: '10px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setBarber('Raj'),\n        children: \"Raj\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setBarber('Aman'),\n        children: \"Aman\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setBarber('Sana'),\n        children: \"Sana\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: [\"Welcome, \", barber]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setBarber(''),\n        style: {\n          marginBottom: '20px'\n        },\n        children: \"Logout\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleCallNext,\n        disabled: customers.length === 0,\n        style: {\n          marginBottom: '20px',\n          padding: '6px 12px'\n        },\n        children: \"Call Next\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 11\n      }, this), customers.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"No customers in queue.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: customers.map((customer, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n          style: {\n            padding: '8px',\n            marginBottom: '10px',\n            backgroundColor: customer.id === calledCustomerId ? '#d1e7dd' : '#f1f1f1',\n            borderRadius: '5px',\n            display: 'flex',\n            justifyContent: 'space-between',\n            alignItems: 'center'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\"#\", index + 1, \" - \", customer.name, \" (\", customer.appointment, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => handleDone(customer.id),\n            style: {\n              padding: '4px 8px'\n            },\n            children: \"Done\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 19\n          }, this)]\n        }, customer.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 17\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 5\n  }, this);\n}\n_s(BarberPage, \"2Sfag1epyFG0TJXbwyeEPLM20rw=\");\n_c = BarberPage;\nexport default BarberPage;\nvar _c;\n$RefreshReg$(_c, \"BarberPage\");","map":{"version":3,"names":["React","useEffect","useState","jsxDEV","_jsxDEV","Fragment","_Fragment","BarberPage","_s","barber","setBarber","customers","setCustomers","calledCustomerId","setCalledCustomerId","fetchCustomers","fetch","then","res","json","data","filtered","filter","c","catch","err","console","error","handleDone","id","method","handleCallNext","length","style","padding","children","marginBottom","fileName","_jsxFileName","lineNumber","columnNumber","display","gap","onClick","disabled","map","customer","index","backgroundColor","borderRadius","justifyContent","alignItems","name","appointment","_c","$RefreshReg$"],"sources":["C:/Users/agarw/OneDrive/Desktop/NEXTUP PROJECT/nextup client/src/pages/Barber.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\n\r\nfunction BarberPage() {\r\n  const [barber, setBarber] = useState('');\r\n  const [customers, setCustomers] = useState([]);\r\n  const [calledCustomerId, setCalledCustomerId] = useState(null);\r\n\r\n  useEffect(() => {\r\n    if (barber) {\r\n      fetchCustomers();\r\n    }\r\n  }, [barber]);\r\n\r\n  const fetchCustomers = () => {\r\n    fetch('http://localhost:5000/api/customers')\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        const filtered = data.filter(c => c.barber === barber);\r\n        setCustomers(filtered);\r\n      })\r\n      .catch((err) => console.error('Error fetching customers:', err));\r\n  };\r\n\r\n  const handleDone = (id) => {\r\n    fetch(`http://localhost:5000/api/customers/${id}`, {\r\n      method: 'DELETE',\r\n    })\r\n      .then(() => fetchCustomers())\r\n      .catch((err) => console.error('Error deleting:', err));\r\n  };\r\n\r\n  const handleCallNext = () => {\r\n    if (customers.length > 0) {\r\n      setCalledCustomerId(customers[0].id);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div style={{ padding: '20px' }}>\r\n      <h1 style={{ marginBottom: '20px' }}>Barber Queue Management</h1>\r\n\r\n      {!barber ? (\r\n        <div style={{ display: 'flex', gap: '10px' }}>\r\n          <button onClick={() => setBarber('Raj')}>Raj</button>\r\n          <button onClick={() => setBarber('Aman')}>Aman</button>\r\n          <button onClick={() => setBarber('Sana')}>Sana</button>\r\n        </div>\r\n      ) : (\r\n        <>\r\n          <h2>Welcome, {barber}</h2>\r\n          <button onClick={() => setBarber('')} style={{ marginBottom: '20px' }}>\r\n            Logout\r\n          </button>\r\n\r\n          <button\r\n            onClick={handleCallNext}\r\n            disabled={customers.length === 0}\r\n            style={{ marginBottom: '20px', padding: '6px 12px' }}\r\n          >\r\n            Call Next\r\n          </button>\r\n\r\n          {customers.length === 0 ? (\r\n            <p>No customers in queue.</p>\r\n          ) : (\r\n            <ul>\r\n              {customers.map((customer, index) => (\r\n                <li\r\n                  key={customer.id}\r\n                  style={{\r\n                    padding: '8px',\r\n                    marginBottom: '10px',\r\n                    backgroundColor: customer.id === calledCustomerId ? '#d1e7dd' : '#f1f1f1',\r\n                    borderRadius: '5px',\r\n                    display: 'flex',\r\n                    justifyContent: 'space-between',\r\n                    alignItems: 'center',\r\n                  }}\r\n                >\r\n                  <span>\r\n                    #{index + 1} - {customer.name} ({customer.appointment})\r\n                  </span>\r\n                  <button onClick={() => handleDone(customer.id)} style={{ padding: '4px 8px' }}>\r\n                    Done\r\n                  </button>\r\n                </li>\r\n              ))}\r\n            </ul>\r\n          )}\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default BarberPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}